$main: #2f3041; 
$secondary: #4c4d69; 
$highlight: #96CDFB; 
$darker: #232430; 
$good: var(--highlight); 
$medium: #F8BD96; 
$bad: #F28FAD; 
$background: linear-gradient(var(--highlight), var(--main)); 
$text-color: white; 
$link-color: var(--highlight); 
$slight-transparent: #000000aa; 
$very-transparent: #00000033; 
$transparent: #00000055; 


/*make the top bar transparent*/

:root[sizemode="normal"][tabsintitlebar]:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]) #navigator-toolbox-background
{
    appearance: none !important;
}

#main-window:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]):not([tabsintitlebar], [inFullscreen])
{
    background-color: transparent !important;
}

:root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]):not([tabsintitlebar], [inFullscreen]) .titlebar-color
{
    appearance: none !important;
}

:root[sizemode="normal"][tabsintitlebar]:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]) #navigator-toolbox,
:root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]):not([tabsintitlebar]) #navigator-toolbox
{
    background-color: color-mix(in srgb, rgba(0, 0, 0, 0.5) 75%, transparent) !important;
}

toolbarbutton#tabs-newtab-button{
  background-color: $transparent !important;
  margin: 0 !important;
}

vbox.browserContainer{
  background-color: $main !important;
}
/*end transparency*/

/*get rid of the awful tab background and rounded corners*/
tab .tab-background{
    display: none !important;
}

tab{
    transition: background-color 300ms !important;

}
/*make tabs follow color scheme*/

toolbar{
    --toolbar-bgcolor: #2f3041;
    --toolbar-color: white;
}

tab[selected="true"]{
    background-color: $secondary !important;
    border-top: 3px solid $highlight !important;
}
tab:not([selected="true"]){
    background-color: $main !important;
    border-top: 3px solid $medium !important;
}

tab:not([selected="true"]):is(:hover, :focus){
    background-color: $main !important;
}


pannelview#appMenu-protonMainView,
vbox.panel-subview-body{
    background-color: $main !important;
}

#appMenu-popup toolbarbutton{
    background-color: $main !important;

    &:hover{
        background-color: $highlight !important;
        color: $main !important;
    }
}

//that weird ass arrow in the top right that no one uses
toolbarbutton#alltabs-button{
    display: none !important;
}

label#identity-icon-label.plain[value=Firefox]{
    display: none;
}

menupopup{
    --panel-color: white !important;
    --panel-background: #2f3041dd !important;
    --panel-separator-color: #4c4d69 !important;
}

tab.tabbrowser-tab[selected=true] .tab-text {
    color: $highlight !important;
}
tab.tabbrowser-tab:not([selected=true]) .tab-text {
    color: $medium !important;
}

tab:where([visuallyselected="true"]){
    z-index: 0 !important
}

/*put tabs inline with url bar*/

#navigator-toolbox {
    display: grid;
    grid-template-columns: min-content 1fr;
    // grid-template-areas: 
    //     "a b b"
    //     "c c c";
}

#titlebar {
    // grid-area: b;
    grid-column: 2;
    grid-row: 1;
}

#nav-bar.browser-toolbar {
    // grid-area: a;
    min-width: fit-content !important; //makes it so tabs dont overflow onto the urlbar
    width: fit-content !important;
    grid-column: 1;
    grid-row: 1;
}

#PersonalToolbar {
    grid-row: 2;
    grid-column: 1 / 3;
    // grid-area: c;
}

/*END: tabs inline with url bar*/

//makes url background color cool
#urlbar-background {
    background-color: $highlight !important;
    filter: brightness(50%) !important;
}

//hide bookmark website button
#star-button-box {
    display: none;
}

//hide settings dropdown
#PanelUI-menu-button { 
    display: none;
}

//hide firefox view
#firefox-view-button {
    display: none;
}

//remove tabs, replace with sideberry
// #sidebar-box {
//     min-width: 4ch !important;
// }

// #sidebar-header {
//     display: none !important;
// }

// #titlebar{
//     display: none !important;
// }

#back-button, #forward-button {
    display: none !important;
}

#urlbar-input {
    text-align: center !important;
}

.urlbarView-no-wrap {
    width: 100% !important;
    justify-content: center !important;
}

/*makes the unifieid extension menu compact*/
:root {
  --uei-icon-size: 16px !important;
}

#unified-extensions-view > .panel-header {
  display: none !important;
}

#unified-extensions-view > .panel-header + toolbarseparator {
  border: none !important;
  margin: 0 0 var(--arrowpanel-menuitem-margin-inline) !important;
}

#unified-extensions-panel .unified-extensions-item {
  margin-block: 0 !important;
}

.unified-extensions-item-message-deck {
  display: none;
}

.unified-extensions-item-menu-button.subviewbutton {
  list-style-image: url("chrome://global/skin/icons/more.svg") !important;
  padding: 0 0 0 var(--arrowpanel-menuitem-margin-inline) !important;
}

.unified-extensions-item-menu-button.subviewbutton > .toolbarbutton-icon {
  border: none !important;
}
